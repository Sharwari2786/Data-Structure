//evalulation result for postfix input

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <math.h>
#define MAX 100

int stk[MAX];
int top = -1;

void push(int val) {
  if(top == MAX-1) {
    printf("Stack Overflow...");
    return;
  }
  stk[++top] = val;
}

int pop() {
  if(top == -1) {
    printf("Stack Underflow...");
    return;
  }
  return stk[top--];
}

int evaluateValue(char postfix[]) {
  int i=0;
  char ch;
  int opd1, opd2, res;

  while(postfix[i] != '\0') {
    ch = postfix[i];

    if(isdigit(ch)) {
      push(ch - '0');
    }

    else if(ch =='+' || ch =='-' || ch =='*' || ch =='/' || ch =='^') {
      opd2 = pop();
      opd1 = pop();

      switch (ch)
      {
        case '+':
          res = opd1 + opd2;
          break;

        case '-':
          res = opd1 - opd2;
          break;

        case '*':
          res = opd1 * opd2;
          break;

        case '/':
          res = opd1 / opd2;
          break;

        case '^':
          res = opd1 ^ opd2;
          break;

        default:
          printf("Invalid Choice ...");
          break;
      }
      push(res);
    }
    i++;
  }
  return pop();
}

int main() {
  char postfix[MAX];

  printf("Enter postfix expression (no spaces): ");
  scanf("%s",postfix);

  int res = evaluateValue(postfix);
  printf("Evaluation result: %d\n", res);

  return 0;
}
